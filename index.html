<!DOCTYPE html>
<html>
    <head>
        <title>Document</title>
    </head>
    <body>
        <h1>WEBUSB</h1>
        
        <a href="#" id="click">Connect Smart Card Reader</a>
        <script>
            click.onclick=function(){
               // navigator.usb.requestDevice({ filters: [
                //    //{vendorId:1839},{vendorId:2278}
                //    ] })
                //    .then(device => {
                //    console.log(device);   
                //    console.log(device.productId.toString(16));
               //     console.log(device.vendorId.toString(16));
               //     console.log(device.manufacturerName); 
               // })
                //.catch(error => { console.log(error); });      
                
                device= await navigator.usb.requestDevice({ 
                    filters: [{ vendorId: 1839}] 
                  });
               await device.open();
               
               await device.selectConfiguration(1); // Select configuration #1 for the device.
               await device.claimInterface(2);// Request exclusive control over interface #2.
              await device.controlTransferOut({
                   requestType: 'class',
                   recipient: 'interface',
                   request: 0x22,
                   value: 0x01,
                   index: 0x02
               }); // Ready to receive data
              

            }
        </script>

    </body>
</html>
